<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Gtopba (Posts about embedded)</title><link>https://gtopba.github.io/</link><description></description><atom:link href="https://gtopba.github.io/categories/embedded.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2018 &lt;a href="mailto:gtopba@gmail.com"&gt;Warut Phothiphan&lt;/a&gt; </copyright><lastBuildDate>Sat, 16 Jun 2018 05:27:24 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Airbag crash data reset</title><link>https://gtopba.github.io/posts/airbag-crash-data-reset/</link><dc:creator>Warut Phothiphan</dc:creator><description>&lt;div&gt;&lt;p&gt;After a collision and the airbags are deployed, the airbag controller stores information such as speed, RPM, seat belt, accelerometer, pre-tensioner that can be used for investigation. These crash data need to be replaced, if the vehicle is rebuilt. Otherwise the airbag light will stay solid and the vehicle might not perform correctly. The crash data is stores in the EEPROM chip, which can be read/write via a cheap programmer. A virgin data is copied from another vehicle's controller, which then will be used to replaced the crash data inside the EEPROM.&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="/pic/airbag/L56R_EEPROM.jpg" src="https://gtopba.github.io/pic/airbag/L56R_EEPROM.jpg" style="width: 431.6px; height: 576.0px;"&gt;
&lt;p class="caption"&gt;L56R EEPROM&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The closest datasheet to the L56R EEPROM I found was BR93L56F, the Microwire BUS 2Kbit(128x16bit) EEPROM.&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="/pic/airbag/Pin_configurations.PNG" src="https://gtopba.github.io/pic/airbag/Pin_configurations.PNG" style="width: 542.0px; height: 219.0px;"&gt;
&lt;p class="caption"&gt;Pin configurations&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The programmer is MiniPro TL866A from Aliexpress. Reading the EEPROM in circuit using SOP8 clip was not successful even the crystal was shorted out. So the EEPROM has to be removed from the board to be able to read/write with the SOP8 socket.&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="/pic/airbag/programer.jpg" src="https://gtopba.github.io/pic/airbag/programer.jpg" style="width: 576.0px; height: 432.0px;"&gt;
&lt;p class="caption"&gt;The programmer with SOP8 socket&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The virgin data is copied from the good EEPROM and replaced into the bad EEPROM.&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="/pic/airbag/good-bad-board.jpg" src="https://gtopba.github.io/pic/airbag/good-bad-board.jpg" style="width: 466.8px; height: 431.6px;"&gt;
&lt;p class="caption"&gt;Copying good data to replace crash data.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Connect the programmer to a computer and open the software MiniPro Programmer. Select IC the click Read&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="/pic/airbag/MiniPro.PNG" src="https://gtopba.github.io/pic/airbag/MiniPro.PNG"&gt;
&lt;p class="caption"&gt;Select IC and Read&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Successfully reading the EEPROM from the good board.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="/pic/airbag/MiniPro_Read.PNG" src="https://gtopba.github.io/pic/airbag/MiniPro_Read.PNG"&gt;
&lt;p class="caption"&gt;Read success&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Read several time to make sure the read data is correct. Insert the bad EEPROM to the programmer and click Program&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="/pic/airbag/MiniPro_Data.PNG" src="https://gtopba.github.io/pic/airbag/MiniPro_Data.PNG"&gt;
&lt;p class="caption"&gt;Good data ready for writing into bad EEPROM&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Programming successful!! Read data back to verify the data is all correct. Install the EEPROM back to the board&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="/pic/airbag/MiniPro_Write.PNG" src="https://gtopba.github.io/pic/airbag/MiniPro_Write.PNG"&gt;
&lt;p class="caption"&gt;Programming successful&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;After installing the controller back to the vehicle, the airbag light should now turned off.&lt;/p&gt;&lt;/div&gt;</description><category>EEPROM</category><category>embedded</category><guid>https://gtopba.github.io/posts/airbag-crash-data-reset/</guid><pubDate>Sat, 16 Jun 2018 03:23:07 GMT</pubDate></item></channel></rss>